@{
    ViewData["Title"] = "Angular Testing";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script type="text/javascript">
    var myApp = angular.module('myApp', []);

    myApp.controller('myAppCtrl', function ($scope, $http) {
        $scope.allusers = '';
        //$scope.somestring = 'test string';
        $scope.employeeModel = @Html.Raw(Json.Serialize(Model));

        var abc;
        $scope.update = function(p1) {
            $http({
                url: 'AngularTest/UpdateData?p1=' + p1,
                method: 'GET'
            }).then(function(data) {
                $scope.somestring = data.data.extra;
                $scope.employeeModel = data.data;
                abc = data;
                console.log(abc);
            });
        };

        $scope.findIt = function() {
            $http.get("https://api.github.com/users/KirinDave").then(onFindComplete);
        };

        var onFindComplete = function(response) {
            $scope.user = response.data;
            $http.get($scope.user.repos_url).then(onFindAllComplete);
        };

        var onFindAllComplete = function(response) {
            $scope.allusers = response.data;
        }

    });

</script>


<h2>@ViewData["Title"]</h2>
<h3>@ViewData["Message"]</h3>

<div>
    <div ng-app="myApp" ng-controller="myAppCtrl">
        {{ firstName + " " + lastName }}
        <br />
        <p>
            <input type="text" ng-model="inputdata" />
            <br />
            Output: {{inputdata}}
            <br />
            From controller: {{somestring}}
            <br />
            test: {{employeeModel}}<br />
            FirstName: {{employeeModel.firstName}}<br />
            LastName: {{employeeModel.lastName}}
            <br />
            <input type="submit" ng-click="update(inputdata)" value="Update" />
            <br />
            <br />
            <button ng-click="findIt()">Find Name</button><br />
            Name: {{user.name}}
            <br />
        <p>
            <div ng-hide="allusers == ''">
                <table>
                    <thead><tr><th>Column 1</th></tr></thead>
                    <tr ng-repeat="user in allusers">
                        <td>{{user.name}}</td>
                    </tr>
                </table>
            </div>
        </p>
    </div>
</div>




<script src="~/js/controller.js"></script>